# Submission GCP Environment Configuration
# Use with: docker compose --profile submission --env-file submission.gcp.env up --build

# === REQUIRED SETTINGS ===

# Mode selection (REQUIRED)
# LOAD or CREATE
INIT_MODE=
DB_PORT=5433

# Database settings (REQUIRED)
POSTGRES_PASSWORD=
POSTGRES_USER=
POSTGRES_DB=

# Submission settings (REQUIRED when INIT_MODE=LOAD)
BASELINE_DUMP_URL=
SUBMISSION_MARKER=/output/submission_done
QUERIES_DIR=/submission
REPO_URL=

# Common settings (REQUIRED)
TIMEOUT=10000
MIG_LOG=/output/migration.log
EXEC_PER_QUERY=5
EXEC_INTERVAL=1000
EXEC_INTERVAL_Q=2000
EXEC_TIMEOUT=60000
OUT_DIR=/output
INIT_WAIT_TIMEOUT=300

# GCP dump settings
# should be true for baseline and false for submission
DUMP_ENABLED=true
# local or gcp
DUMP_LOCATION=
DUMP_PATH=/output/db_dump.sql
DUMP_READY_FILE=/output/.dump_ready

# GCP settings (REQUIRED for GCP dumps)
GCP_BUCKET=
GCP_CREDENTIALS_JSON=

# Baseline settings (not used for submission but required for compose validation)
USERS_COUNT=50000
DEVICES_COUNT=50000
EVENTS_COUNT=1000000
SCHEMA_SQL=/sql-templates/init-db.sql
BASELINE_MARKER=/output/baseline_done